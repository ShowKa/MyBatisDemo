<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Common">

	<sql id="select"> AND deleted = false </sql>

	<sql id="selectDeleted"> AND deleted = true </sql>

	<sql id="insertSet">, create_user_id = #{create_user_id}, create_timestamp =
		current_timestamp(), update_user_id = #{update_user_id},
		update_timestamp =
		current_timestamp()
		, deleted = false
		, version =
		0
	</sql>

	<sql id="updateSet">, update_user_id = #{update_user_id}, update_timestamp =
		current_timestamp()
		, version = version + 1
	</sql>
	<sql id="updateWhere"> AND version = #{version} </sql>

	<sql id="deleteLogicallySet"> update_user_id = #{update_user_id}, update_timestamp =
		current_timestamp()
		, deleted = true
		, version = version + 1
	</sql>
	<sql id="deleteLogicallyWhere"> AND version = #{version} </sql>

	<sql id="deletePhysicallyWhere"> AND version = #{version} </sql>

</mapper>